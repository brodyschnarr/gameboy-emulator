# V4 Complete Rebuild Plan

## Core Features (Requested)
1. ✅ Interactive Canada Map (SVG, click provinces → regions)
2. ✅ Regional Data System (Toronto/Vancouver/etc. multipliers)
3. ⏳ Family Mode UI (dual income inputs, separate CPP)
4. ✅ Income Sources System (pension/annuity/rental/etc.)

## Research-Based Additions
5. ⏳ CPP Start Age Optimizer (60 vs 65 vs 70 comparison)
6. ⏳ Scenario Comparison (side-by-side what-ifs)
7. ⏳ Legacy/Estate View (money left for heirs)
8. ⏳ Healthcare Cost Estimator (Canadian-specific)
9. ⏳ Probability of Success (% based on volatility)
10. ⏳ Debt Payoff Integration (mortgage timing)

## File Structure
- index-v4.html (new complete UI)
- app-v4.js (new controller with all logic)
- calc-v4.js (updated engine for new features)
- regional-data.js ✅
- canada-map.js ✅
- income-sources.js ✅
- cpp-optimizer.js (new)
- scenario-manager.js (new)
- style-v4.css (updated styles)

## Build Order
1. HTML structure with all new sections
2. Map integration + region picker
3. Family mode conditional inputs
4. Income sources UI + modal
5. CPP optimizer slider
6. Scenario comparison panel
7. Updated calculation engine
8. App controller wiring
9. Styling polish
10. Testing & deploy

Estimated time: 60-90 minutes
